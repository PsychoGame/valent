<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Valent.DevicePlugin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="valent-logo.svg"/>
  <meta property="og:image:alt" content="Valent-0"/>
  

  
  <meta property="og:title" content="Valent.DevicePlugin"/>
  <meta property="og:description" content="Reference for Valent.DevicePlugin"/>
  <meta name="twitter:title" content="Valent.DevicePlugin"/>
  <meta name="twitter:description" content="Reference for Valent.DevicePlugin"/>


  
  <meta name="twitter:card" content="summary"/>

  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>
  <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <img src="valent-logo.svg" class="logo"/>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Valent</a></h3>
        <p>API Version: 0</p>
        
        <p>Library Version: 0.1.0</p>
        
      </div>
      
<div class="section">
  <h5>Type</h5>
  <div class="links">
    <a class="current" href="iface.DevicePlugin.html#description">DevicePlugin</a>
  </div>
</div>


<div class="section">
  <h5>Instance methods</h5>
  <div class="links">
  
    <a class="method" href="method.DevicePlugin.add_menu_entries.html">add_menu_entries</a>
  
    <a class="method" href="method.DevicePlugin.disable.html">disable</a>
  
    <a class="method" href="method.DevicePlugin.enable.html">enable</a>
  
    <a class="method" href="method.DevicePlugin.find_menu_item.html">find_menu_item</a>
  
    <a class="method" href="method.DevicePlugin.handle_packet.html">handle_packet</a>
  
    <a class="method" href="method.DevicePlugin.register_actions.html">register_actions</a>
  
    <a class="method" href="method.DevicePlugin.remove_menu_entries.html">remove_menu_entries</a>
  
    <a class="method" href="method.DevicePlugin.remove_menu_item.html">remove_menu_item</a>
  
    <a class="method" href="method.DevicePlugin.replace_menu_item.html">replace_menu_item</a>
  
    <a class="method" href="method.DevicePlugin.toggle_actions.html">toggle_actions</a>
  
    <a class="method" href="method.DevicePlugin.unregister_actions.html">unregister_actions</a>
  
    <a class="method" href="method.DevicePlugin.update_state.html">update_state</a>
  
  </div>
</div>



<div class="section">
  <h5>Properties</h5>
  <div class="links">
  
    <a class="property" href="property.DevicePlugin.device.html">device</a>
  
  </div>
</div>







<div class="section">
  <h5>Functions</h5>
  <div class="links">
  
    <a class="func" href="type_func.DevicePlugin.get_incoming.html">get_incoming</a>
  
    <a class="func" href="type_func.DevicePlugin.get_outgoing.html">get_outgoing</a>
  
    <a class="func" href="type_func.DevicePlugin.new_settings.html">new_settings</a>
  
  </div>
</div>



<div class="section">
  <h5>Virtual methods</h5>
  <div class="links">
  
    <a class="method" href="vfunc.DevicePlugin.disable.html">disable</a>
  
    <a class="method" href="vfunc.DevicePlugin.enable.html">enable</a>
  
    <a class="method" href="vfunc.DevicePlugin.handle_packet.html">handle_packet</a>
  
    <a class="method" href="vfunc.DevicePlugin.update_state.html">update_state</a>
  
  </div>
</div>



    </nav>
    
    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Interface</h3>
    <h1><a href="index.html">Valent</a><span class="sep"></span>DevicePlugin</h1>
  </header>

  <section>
    <summary>
      <div class="toggle-wrapper">
        <h4 id="description" style="display:flex;">
          Description
          <a href="#description" class="anchor"></a>
          
        </h4>

        <pre><code>interface Valent.DevicePlugin : GObject.Object</code></pre>

        <div class="docblock">
          No description available.
        </div>

        <div class="docblock">
          <table class="attributes">
            
            
            
          </table>
        </div>

        
      </div>
    </summary>

    <div class="toggle-wrapper prerequisite">
      <h4 id="prerequisite">
        Prerequisite
        <a href="#prerequisite" class="anchor"></a>
      </h4>

      <div class="docblock">
        <p>In order to implement DevicePlugin, your type must inherit from
        <a data-namespace="GObject" data-link="class.Object.html" href="javascript:void(0)" class="external"><code>GObject</code></a>.</p>
      </div>
    </div>

    
    <div class="methods toggle-wrapper">
      <h4 id="methods">
        Instance methods
        <a href="#methods" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      <div class="">
        <h6><a href="method.DevicePlugin.add_menu_entries.html">valent_device_plugin_add_menu_entries</a></h6>

        <div class="docblock">
          <p>A convenience function for creating multiple <code>GMenuItem</code> instances and adding
them to a <code>ValentDevice</code><span class="quo">&#8216;</span>s <code>GMenu</code>. Each action is constructed as per one
<code>ValentMenuEntry</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.disable.html">valent_device_plugin_disable</a></h6>

        <div class="docblock">
          <p>This function is called before the extension is unloaded and should clean up
any resources that were allocated in valent_device_plugin_enable() or&nbsp;valent_device_plugin_update_state().</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.enable.html">valent_device_plugin_enable</a></h6>

        <div class="docblock">
          <p>Enables the plugin. This will register the plugin as the handler for any
packets the it claims to support then call the plugin&#8217;s&nbsp;implementation.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.find_menu_item.html">valent_device_plugin_find_menu_item</a></h6>

        <div class="docblock">
          <p>Search the top-level of a <code>GMenuModel</code> for the index of an item with the
attribute <code>name</code> holding <code>value</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.handle_packet.html">valent_device_plugin_handle_packet</a></h6>

        <div class="docblock">
          <p>This is called when the device receives a packet type included in the
<code>X-IncomingCapabilities</code> field of the <code>.plugin</code> file for <code>plugin</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.register_actions.html">valent_device_plugin_register_actions</a></h6>

        <div class="docblock">
          <p>Register <code>GAction</code> <code>entries</code> with the <code>ValentDevice</code> for <code>plugin</code>. Each action is
passed <code>plugin</code> as the user data for <code>GAction::activate</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.remove_menu_entries.html">valent_device_plugin_remove_menu_entries</a></h6>

        <div class="docblock">
          <p>A counterpart to&nbsp;valent_device_plugin_add_menu_entries().</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.remove_menu_item.html">valent_device_plugin_remove_menu_item</a></h6>

        <div class="docblock">
          <p>Removes an item in <code>menu</code> with a the specified attribute and value. If <code>menu</code>
contains a top-level item with <code>attribute</code> holding <code>value</code> it is&nbsp;removed.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.replace_menu_item.html">valent_device_plugin_replace_menu_item</a></h6>

        <div class="docblock">
          <p>Replaces an item in <code>menu</code> with <code>item</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.toggle_actions.html">valent_device_plugin_toggle_actions</a></h6>

        <div class="docblock">
          <p>Enable or disable <code>actions</code> for <code>device</code> based on <code>state</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.unregister_actions.html">valent_device_plugin_unregister_actions</a></h6>

        <div class="docblock">
          <p>Unregister <code>GAction</code> <code>entries</code> with the <code>ValentDevice</code> for <code>plugin</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="method.DevicePlugin.update_state.html">valent_device_plugin_update_state</a></h6>

        <div class="docblock">
          <p>This function is called when the device&#8217;s connected or paired state changes.
It should be used to prepare or release resources only needed during active
use. Usually this means disabling or enabling any plugin actions and sending
or requesting data from the&nbsp;device.</p>
        </div>

        
      </div>
      
      </div>

    </div>
    

    
    <div class="properties toggle-wrapper">
      <h4 id="properties">
        Properties
        <a href="#properties" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      <div class="">
        <h6><a href="property.DevicePlugin.device.html">Valent.DevicePlugin:device</a></h6>

        <div class="docblock">
          <p>The <code>ValentDevice</code> this plugin is bound&nbsp;to.</p>
        </div>

        
      </div>
      
      </div>

    </div>
    

    

    
    <div class="interface toggle-wrapper default-hide">
      <h4 style="display:flex;" id="interface-struct">
        Interface structure
        <a href="#interface-struct" class="anchor"></a>
        
      </h4>

      <div class="docblock">
        <pre><code>struct ValentDevicePluginInterface {
  GTypeInterface g_iface;
  void (* disable) (
    ValentDevicePlugin* plugin
  );
  void (* enable) (
    ValentDevicePlugin* plugin
  );
  void (* handle_packet) (
    ValentDevicePlugin* plugin,
    const char* type,
    JsonNode* packet
  );
  void (* update_state) (
    ValentDevicePlugin* plugin
  );
  
}</code></pre>
      </div>

      
      <div class="docblock">
        <h6>Interface members</h6>

        <table>
        
        <tr>
          <td style="vertical-align:top"><code>g_iface</code></td>
          <td style="vertical-align:top"><pre><code>GTypeInterface</code></pre></td>
        </tr>
        <tr>
          <td>&nbsp;</td><td style="vertical-align:top">No description available.</td>
        </tr>
        
        <tr>
          <td style="vertical-align:top"><code>disable</code></td>
          <td style="vertical-align:top"><pre><code>void (* disable) (
    ValentDevicePlugin* plugin
  )</code></pre></td>
        </tr>
        <tr>
          <td>&nbsp;</td><td style="vertical-align:top">No description available.</td>
        </tr>
        
        <tr>
          <td style="vertical-align:top"><code>enable</code></td>
          <td style="vertical-align:top"><pre><code>void (* enable) (
    ValentDevicePlugin* plugin
  )</code></pre></td>
        </tr>
        <tr>
          <td>&nbsp;</td><td style="vertical-align:top">No description available.</td>
        </tr>
        
        <tr>
          <td style="vertical-align:top"><code>handle_packet</code></td>
          <td style="vertical-align:top"><pre><code>void (* handle_packet) (
    ValentDevicePlugin* plugin,
    const char* type,
    JsonNode* packet
  )</code></pre></td>
        </tr>
        <tr>
          <td>&nbsp;</td><td style="vertical-align:top">No description available.</td>
        </tr>
        
        <tr>
          <td style="vertical-align:top"><code>update_state</code></td>
          <td style="vertical-align:top"><pre><code>void (* update_state) (
    ValentDevicePlugin* plugin
  )</code></pre></td>
        </tr>
        <tr>
          <td>&nbsp;</td><td style="vertical-align:top">No description available.</td>
        </tr>
        
        </table>
      </div>
      
    </div>
    

    

    
    <div class="methods toggle-wrapper">
      <h4 id="type-functions">
        Functions
        <a href="#type-functions" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      <div class="">
        <h6><a href="type_func.DevicePlugin.get_incoming.html">valent_device_plugin_get_incoming</a></h6>

        <div class="docblock">
          <p>Gets the list of incoming packets <code>plugin</code> can&nbsp;handle.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="type_func.DevicePlugin.get_outgoing.html">valent_device_plugin_get_outgoing</a></h6>

        <div class="docblock">
          <p>Gets the list of outgoing packets <code>plugin</code> can&nbsp;provide.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6><a href="type_func.DevicePlugin.new_settings.html">valent_device_plugin_new_settings</a></h6>

        <div class="docblock">
          <p>A convenience function for plugins to create a <code>GSettings</code> object for a device
<span class="caps">ID</span> and module&nbsp;name.</p>
        </div>

        
      </div>
      
      </div>
    </div>
    

    
    <div class="toggle-wrapper methods">
      <h4 id="virtual-methods">
        Virtual methods
        <a href="#virtual-methods" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      <div class="">
        <h6 id="vfunc-disable"><a href="vfunc.DevicePlugin.disable.html">Valent.DevicePlugin.disable</a></h6>

        <div class="docblock">
          <p>This function is called before the extension is unloaded and should clean up
any resources that were allocated in valent_device_plugin_enable() or&nbsp;valent_device_plugin_update_state().</p>
        </div>

        
      </div>
      
      <div class="">
        <h6 id="vfunc-enable"><a href="vfunc.DevicePlugin.enable.html">Valent.DevicePlugin.enable</a></h6>

        <div class="docblock">
          <p>Enables the plugin. This will register the plugin as the handler for any
packets the it claims to support then call the plugin&#8217;s&nbsp;implementation.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6 id="vfunc-handle_packet"><a href="vfunc.DevicePlugin.handle_packet.html">Valent.DevicePlugin.handle_packet</a></h6>

        <div class="docblock">
          <p>This is called when the device receives a packet type included in the
<code>X-IncomingCapabilities</code> field of the <code>.plugin</code> file for <code>plugin</code>.</p>
        </div>

        
      </div>
      
      <div class="">
        <h6 id="vfunc-update_state"><a href="vfunc.DevicePlugin.update_state.html">Valent.DevicePlugin.update_state</a></h6>

        <div class="docblock">
          <p>This function is called when the device&#8217;s connected or paired state changes.
It should be used to prepare or release resources only needed during active
use. Usually this means disabling or enabling any plugin actions and sending
or requesting data from the&nbsp;device.</p>
        </div>

        
      </div>
      
      </div>
    </div>
    

  </section>
</section>


    
<div class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      <li class="toc-list-item"><a href="#description"><span class="link-text">Description</span></a></li>
      
<li class="toc-list-item"><a href="#methods"><span class="link-text">Methods</span></a></li>


      
<li class="toc-list-item"><a href="#properties"><span class="link-text">Properties</span></a></li>


      

      

      
<li class="toc-list-item"><a href="#type-functions"><span class="link-text">Functions</span></a></li>


      
<li class="toc-list-item"><a href="#virtual-methods"><span class="link-text">Virtual methods</span></a></li>


    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>